""" 
inlämning 1 uppghift 1
skapad 12/9 (allting 2025)
skapare Lloyd Björnstedt
senaste uppdatering:
13/9 - la till fakultetfunktionen 
4/10 - failsafe hanterin om användaren anger str (str och inte int för fakultet) + fortsätta_check funktionen 
5/10 - optimetra steg 2 och alla funktioner (minska mängden variabler + minska mängden if-else-satser)


skapa en miniräknare där man kan välja räknesätt + fakultet samt två siffror


steg 1 
deklarerar en nödvändig lista 

steg 2 
deklarerar nödvändiga funktioner 

steg 3 
while-loop för att köra programmet tills fortsätta_check är False

steg 4
själva miniräknaren

övrig kommentar
valde att använda siffror för att kommando istället för att skriva med bokstäver
jag anser att det går fortare och minimerar risken för stavfel 


"""


#steg 1
x = ["addition","subtraktion","multiplikation","division","fakultet", "+","-","×","÷","!","första termen","första termen","första faktorn","täljaren","andra termen","andra termen","andra faktorn","nämnaren"]
# x innehåller alla namn och tecken i en lista för senare användnig 

#steg2
def beräkna(val): #beräkna-funktionen väljer tal och sen beräknar 
    #väljer tal och kollar om input är giltigt 
    svar = 0
    print("\nange två tal")

    if val == 4:
        print("OBS! division med 0 är odefinierat\n") 

    tal = [] 
    for k in range(2):
        try:
            tal_input = int(input("välj {}: ". format(x[val+9+(4*k)]))) #x[val+9+(4*k)] ger rätt begrepp för räknesättet
            tal.append(tal_input)
        except ValueError:
            print("\n-----------------------------------------\nange input enligt instruktionerna ovan\n-----------------------------------------\n")
            break
 
    #beräkningar och ger svar
    if len(tal)==2:
        if val == 1:
            svar = tal[0] + tal[1]
                            
        elif val == 2:
            svar = tal[0] - tal[1]

        elif val == 3:
            svar = tal[0] * tal[1]

        elif val == 4:
            try:
                svar = tal[0]/tal[1]

            except ZeroDivisionError: 
                svar = "odefinierat"

        print("\n",tal[0],x[val+4],tal[1],"=",svar,"\n") #x[val+9] ger rätt tecken för räknesättet 

         
def fakultet(): #fakultet-funktionen förklarar sig själv
    svar_f = 1 #svaret är 1 för att det minsta värdet fakultet kan anta är 1
    try:
        tal = int(input("ange ett positivt heltal: "))
        print("\n")

    except ValueError:
        print("\n-----------------------------------------\nange input enligt instruktionerna ovan\n-----------------------------------------\n") 

    else:
        if tal >= 0:    
            for p in range(1,tal+1):
                svar_f = svar_f*p
            print(tal,"! =",svar_f) 
            print("\n")

        else:
            print("-----------------------------------------\nange input enligt instruktionerna ovan\n-----------------------------------------\n") 
   
           
def fortsätta_check(): #fortsätta_check avgör om programmet ska förtsätta och köras eller inte 
    print("1 för att fortsätta\n2 för att avsluta \n")
    while True:
        try:
            fortsätta = int(input("val:  "))
            print("\n")
            
        except ValueError:
            print("-----------------------------------------\nange input enligt instruktionerna ovan\n-----------------------------------------\n") 

        else:
            if fortsätta == 1:
                return True
            
            elif fortsätta == 2:
                return False   
             
            else:
                print("\n-----------------------------------------\nange input enligt instruktionerna\n1 för att fortsätta\n2 för att avsluta\n-----------------------------------------\n") 


#steg 3 
while True: 
    #själva "menyn" med isntruktioner för val av räknesätt  
    print("\n------------------------------------------\nTryck följande för att välja räknesätt")
    for i in range(5):
        print(i+1,"för", x[i]) #i+1 visar nödvändig input och x[i] ger räknesätt 
    print("\n")


#steg 4
    #först väljer räknesätt och avgör om input är giltigt
    try:
        val = int(input("räknesätt: ")) 

    except ValueError:
        print("-----------------------------------------\nange input enligt instruktionerna ovan\n-----------------------------------------\n") 

    #talen väljs i beräkna-funktionen 
    else:
        if 1 <= val <= 4:
            beräkna(val)

        elif val == 5:
            fakultet()
        
        else:
            print("-----------------------------------------\nange input enligt instruktionerna ovan\n-----------------------------------------\n") 
    
    
    if fortsätta_check() == False:
        break


